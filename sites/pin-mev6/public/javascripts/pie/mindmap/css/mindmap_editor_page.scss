@import "misc";

body{
  overflow:hidden;
  .page-container{padding:0;}
  .rc5{
    display:none;
  }
}

#mindmap-toolbar{
  float:left;
  width:100%;
  overflow:hidden;
  height:30px;
  background:#444444;
  color:white;

  .map-logo{
    float:left;
    width:20px;
    height:20px;
    @include border-radius(4px);
    background:url(/images/mindmap_logo_20.png);
    margin:5px;
  }

  .map-title{
    float:left;
    margin-right:20px;
    font-size:14px;
    font-weight:bold;
    line-height:30px;
    a{
      color:#E4F1FF;
    }
  }

  .map-creator{
    float:left;
    overflow:hidden;
    margin-right:20px;
    line-height:30px;
    .avatar{
      float:left;
      img.logo{
        width:20px;height:20px;@include border-radius(4px);
        border:0;padding:0;
        margin:5px;
      }
    }
    .name{
      float:left;
      a{
        color:#E4F1FF;
      }
    }
  }

  .map-timestamp{
    float:left;
    margin-right:20px;
    line-height:30px;
    .date{
      color:#ccc !important;
    }
  }

  .map-export{
    float:left;
    margin-right:20px;
    line-height:30px;
    .minibutton{
      box-shadow:none;
    }
    span.ex{
      margin-left:5px;
      a{
        color:#FBF3CA;
        font-weight:bold;
      }
    }
  }
  .map-close{
    float:right;
    margin-right:10px;
    line-height:35px;
    a{
      float:left;
      color:#fff;
      font-weight:bold;
      background:url(/images/close.png) no-repeat left 10px;
      padding-left:20px;
      line-height:35px;
    }
  }
}

#mindmap-main{
  clear:both;
  overflow:hidden;
  position:relative;
  #mindmap-sidebar{
    *display:inline;
    width:210px;
    float:right;
    overflow:hidden;
    height:100%;
    background-color:#F7F7F7 !important;
    .mpaccordion-bar{
      .mpaccordion-toggler{
        border-top:solid 1px #444;
        border-bottom:solid 1px #444;
        @include gradient(#888888, #444444);
        color:white;
      }
      .mpaccordion-content{

      }
    }
    .mindmap-note-sidebar{
      padding:5px;
      /*210x133 200x123*/
      .blank-text,.text{
        padding:5px;
        width:190px !important;
        height:113px !important;
        background-color:#f1f1f1;
        margin:0 0 5px 0;
        overflow:auto;
      }
    }
    .snapshots-list{
      margin-bottom:5px;
    }
    .chat-box{
      .chat-list{
        height:150px;
        background-color:white;
        margin-bottom:5px;
        @include border-radius(2px);
        color:#111;
        overflow-y:scroll;
        .chat-start{
          color:#999;
          padding:0 5px;
        }
        .chat-line{
          padding:0 5px;
          .username{
            font-weight:bold;
          }
        }
      }
      .chat-form{
        #chat-inputer{
          height:21px !important;
          padding:0 5px !important;
          width:190px;
          font-size:12px;
        }
      }
    }
  }
  #mindmap-resizer{
    position:absolute;
    border:none;
    overflow:hidden;
    .mindmap-paper-toolbar{
      position:absolute;
      top:10px;
      right:30px;
      z-index:1000;
      .mindmap-ops{
        float:left;
        height:26px;width:55px;
        padding:3px;
        background-color:#F7F7F7;
        border:solid 1px #e0e0e0;
        @include border-radius(3px);
        margin-right:5px;
        .mindmap-undo{
          display:block;
          float:left;
          width:24px;height:24px;border:solid 1px #eee;
          background:url(/images/widget-btns.png) no-repeat -1px -26px;
          overflow:hidden;line-height:22em;margin-right:3px;
          &.lock{background:url(/images/widget-btns.png) no-repeat -51px -26px;}
        }
        .mindmap-redo{
          display:block;
          float:left;
          width:24px;height:24px;border:solid 1px #eee;
          background:url(/images/widget-btns.png) no-repeat -26px -26px;
          overflow:hidden;line-height:22em;
          &.lock{background:url(/images/widget-btns.png) no-repeat -76px -26px;}
        }
      }
      .editor-control{
        float:left;
        height:26px;width:55px;
        padding:3px;
        background-color:#F7F7F7;
        border:solid 1px #e0e0e0;
        @include border-radius(3px);
        .recenter{
          display:block;
          float:left;
          width:24px;height:24px;border:solid 1px #eee;
          background:url(/images/widget-btns.png) no-repeat -1px -1px;
          overflow:hidden;line-height:22em;margin-right:3px;
        }
        .toggle-sidebar{
          display:block;
          float:left;
          width:24px;height:24px;border:solid 1px #eee;
          background:url(/images/widget-btns.png) no-repeat -51px -1px;
          overflow:hidden;line-height:22em;
          &.open{background:url(/images/widget-btns.png) no-repeat -26px -1px;}
        }
      }
      .ops-intro{
        clear:both;
        padding:3px;width:123px;margin-top:5px;
        background-color:#F7F7F7;
        border:solid 1px #e0e0e0;
        position:relative;
        color:#555;
        h5{
          @include border-radius(2px);
          padding:2px 1px;
          line-height:12px;
          font-size:12px;
          background-color:#444;
          color:white;
          margin:0 0 3px 0;
        }
        hr{margin:2px 0;}
        .hide-it,.show-it{
          display:block;
          width:16px;
          height:16px;
          font-size:0;
          line-height:33em;overflow:hidden;
          position:absolute;
          top:2px;right:3px;
        }
        .hide-it{background:url(/images/widget-btns.png) no-repeat -18px -51px;}
        .show-it{background:url(/images/widget-btns.png) no-repeat -1px -51px;}
        .show-it{display:none;}
        &.close{
          .show-it{display:block;}
          .hide-it{display:none;}
          .oo,hr{display:none;}
          h5{margin-bottom:0;}
        }
      }
    }
  }
  &.viewer{
    background:#fff !important;
    #mindmap-sidebar{
      background:#fff !important;
      color:black;
      .mindmap-export,.share{
        border-bottom:solid 1px #CDD7DB;
      }
      h3{
        padding:5px;
      }
      a{
        &:hover{
        }
      }
      a.share_to{
        padding-left:20px;
        color:#082F42;
        display:block;
        margin:3px 0;
        &.tsina{background:url(/images/share/tsina.png) no-repeat;}
        &.renren{background:url(/images/share/renren.png) no-repeat;}
        &.douban{background:url(/images/share/douban.png) no-repeat;}
      }
    }
  }
}

#mindmap-status-bar{
  overflow:hidden;
  position:absolute;
  bottom:0;
  height:39px;
  width:100%;
  @include gradient(#416479,#052131);
  color:white;
  border-top:solid 1px #111;
  .cooperate{
    float:left;
    padding:9px;
    span{
      margin-right:5px;
      &.op_count{font-weight:bold;}
    }
  }
  #editor_chat{
    height:14px;padding:2px;
  }
  .net_condition{
    float:right;
    padding:9px;
  }
  .buttons{
    float:right;
    margin-right:10px;
    margin-top:6px;
    a{
      height:24px;width:28px;
      float:left;
      span{
        display:block;
        height:20px;width:20px;
        margin-top:2px;margin-left:4px;
        text-indent:999px;
        overflow:hidden;
        font-size:0px;
      }
      &.mindmap-recenter{
        background:url("/images/bg_footer_toolbarbutton.gif") no-repeat 0 0;
        span{background:url("/images/icons_sidebaritem.gif") 0 0px;}
        &.mousedown{background:url("/images/bg_footer_toolbarbutton.gif") no-repeat 0 -48px;}
      }
      &.toggle-sidebar{
        border-left:solid 1px #09192B;
        background:url("/images/bg_footer_toolbarbutton.gif") no-repeat right 0;
        span{background:url("/images/icons_sidebaritem.gif") 0 -280px;}
        &.open{background:url("/images/bg_footer_toolbarbutton.gif") no-repeat right -48px;}
      }
    }
  }
}

@mixin nodefont{
  /*font-family:"Microsoft Yahei","微软雅黑","Lucida Grande",Verdana,Tahoma,Arial,Helvetica,Sans;*/
  font-family:"Lucida Grande",Verdana,Tahoma,Arial,Helvetica,Sans;
}

#mindmap-scroller{
  position:absolute;
  border:none;
  overflow:scroll;
  height:100%;
  width:100%;
  #mindmap-canvas{
    border:solid 1px white;
    position:relative;
    width:6000px;
    height:3000px;
    background-color:#FFFFFF;
    background-image:url("../img/paper_bg.png");
    div{white-space:nowrap;}
    textarea{white-space:nowrap;}
    .root{
      font-size:14px;line-height:20px;
      border:3px solid #99BFFF;
      padding:5px;
      color:#000;
      background-color:#E9F0FF;
      @include border-radius(5px);
    
      &.dropon{
        border:solid 3px #F56F00 !important;
      }
      &.over{
        border:solid 3px #ffed80;
      }
      &.selected{
        border:3px solid #113B8F;
      }
    }
    
    .node{
      font-size:12px;line-height:16px;
      border:none;
      padding:3px;
      color:#333;
      @include border-radius(4px);
    
      &.dropon{
        border:solid 3px #F56F00 !important;
        padding:0;
      }
      &.over{
        border:solid 3px #ffed80;
        padding:0;
      }
      &.selected{
        border:solid 3px #113B8F;
        padding:0;
      }
    }
    
    .root,.node{
      @include nodefont;
      cursor:pointer;
      position:absolute;
      .node-image{
        font-size:0;line-height:0;
        @include border-radius(2px);
      }
      .nodebody{
        /*这里不能用float，需要用inline-block，否则排版不正确*/
        .nodetitle{
          display:inline-block;
          *display:inline;
          zoom:1;
        }
        .note-icon{
          width:16px;height:16px;
          background:url("/images/noteicon.png") no-repeat;
          vertical-align:bottom;
          margin-left:3px;
          display:inline-block;
          *display:inline;
          zoom:1;
        }
      }
    }
    
    /*折叠展开控制图标*/
    .foldhandler{
      width:11px;height:11px;
      padding:0;font-size:0;line-height:0;
      cursor:pointer;
      &.plus{
        background-image:url("../img/icon_plus.png");
      }
      &.minus{
        background-image:url("../img/icon_minus.png");
      }
      &.over{
        background-position:0 -30px;
      }
    }
    
    /*节点标题编辑*/
    .title-input-div{
      border:solid 3px #7f7ff7;
      background-color:white;
      position:absolute;
      z-index:103;
      overflow:hidden;
      @include border-radius(4px);
      line-height:0;font-size:0;
      
      .title-inputer{
        @include nodefont;
        border:none !important;
        padding:0 !important;
        margin:0 !important;
        color:#333;
        overflow:hidden;
        
        &.inode{
          font-size:12px;
          line-height:16px;
          padding:0;
        }
        &.iroot{
          font-size:14px;
          line-height:20px;
          padding:5px;
        }
      }
    }
    
  }
}

.info-label{
  position:absolute;
  top:10px;
  left:10px;
  height:24px;
  background:black;
  @include border-radius(4px);
  padding:10px 30px 10px 10px;
  z-index:99999;
  &.notice{
    background:#F9E675;
    color:#472509;
    font-weight:bold;
  }
  &.success{
    background:#D8F1C4;
    color:#111;
    font-weight:bold;
  }
  &.error{
    background:#C6001A;
    color:white;
    font-weight:bold;
  }
}

.lock-white-board{
  position:absolute;
  background-color:#999;
  z-index:999;
}

.ajax-loading-bar{
  display:none;
}

.page-mindmap-widget-btns{
  position:absolute;
  z-index:10000;
  bottom:0px;left:0px;
  width:24px;height:24px;
  background:#F7F7F7;
  @include border-radius(3px);
  padding:5px;
  .mindmap-recenter{
    display:block;
    float:left;
    width:24px;height:24px;
    background:url(/images/widget-btns.png) no-repeat -1px -1px;
    overflow:hidden;line-height:22em;
  }
}

@import 'mindmap_page_editor_boxes';




