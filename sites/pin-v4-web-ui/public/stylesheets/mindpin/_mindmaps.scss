$avatar-size:96px; // 导图列表侧边头像宽度
$avatar-margin-top:12px;
$avatar-margin-left:20px;
$avatar-padding:1px;
$avatar-border-width:1px;

.page-mindmap-toolbar{
  float:left;position:fixed;
  a.home-tl{
    display:block;
    width:$avatar-size;height:$avatar-size;
    margin-top:$avatar-margin-top;
    margin-left:$avatar-margin-left;
    margin-bottom:10px;
    
    border:solid $avatar-border-width #ccc;
    padding:$avatar-padding;background-color:#f4f4f4;
    img{width:$avatar-size;height:$avatar-size;}
  }
  
  $item-padding-right:14px;
  $a-it-width:$avatar-margin-left + $avatar-size + $avatar-padding*2 - $item-padding-right;
  a.it{
    display:block;
    margin-top:10px;
    padding-right:$item-padding-right;
    background-color:rgba(#000,0.8);
    color:#fff;
    font-size:14px;line-height:32px;
    font-weight:bold;
    @include border-radius(0 2px 2px 0);
    width:$a-it-width;
    text-align:right;
    //box-shadow:0 1px 3px #666666;
    @include transition(background-color ease-in .3s);
    &:hover{
      background-color:#000;
      text-decoration:none;
    };
    
    span.c{
      background-color:rgba(#fff,0.4);
      color:#fff;padding:0 6px;
      margin-right:6px;
      text-shadow:0 0 2px #444444;
      @include border-radius(2px);
    }
  }
  
  $new-size:32px;
  $new-margin-left:$avatar-margin-left + $avatar-size + $avatar-padding*2 - $new-size;
  a.new{
    display:block;
    margin-top:10px;
    margin-left:$new-margin-left;
    width:$new-size;height:$new-size;
    @include border-radius(3px);
    background-color:rgba(darken(#4c8ffd,20%),0.8);
    position:relative;
    
    $a:4px; $b:20px;
    &::before{
      content:"";
      background-color:#fff;
      height:$a;width:$b;
      display:block;position:absolute;
      top:($new-size - $a)/2;
      left:($new-size - $b)/2;
      @include border-radius(1px);
    };
    &::after{
      content:"";
      background-color:#fff;
      height:$b;width:$a;
      display:block;position:absolute;
      top:($new-size - $b)/2;
      left:($new-size - $a)/2;
      @include border-radius(1px);
    };
    
    @include transition(background-color ease-in .3s);
    &:hover{
      background-color:rgba(darken(#4c8ffd,20%),1);
    }
  }
  .new-box{
    //background-color:#fff;
    background-color:rgba(#fff,1);
    border:solid 1px #ddd;
    width: (96px + 2px)*3 + 5px*4;
    height: 96px + 2px + 5px*2 + 1px + 32px + 5px*2;
    position:absolute;z-index:15;
    
    @include box-shadow(0 1px 5px rgba(170, 170, 170, 0.4));
    .titlebar{
      overflow:hidden;padding:5px;
      border-bottom:solid 1px #ddd;
      background-color:#f7f7f7;
      a.close{
        float:left;position:relative;margin-right:10px;
        background-color:#888;
        width:$new-size;height:$new-size;
        @include border-radius(3px);
        $a:4px; $b:20px;
        &::before{
          content:"";
          background-color:#f4f4f4;
          height:$a;width:$b;
          display:block;position:absolute;
          top:($new-size - $a)/2;
          left:($new-size - $b)/2;
          @include border-radius(1px);
        };
      }
      .title{
        line-height:$new-size;
        font-size:14px;font-weight:bold;
        color:#666;
      }
    }
    
    .buttons{
      margin-left:5px;margin-top:5px;
      overflow:hidden;
      $size:96px;
      a.btn{
        display:block;
        width:$size;height:$size;
        float:left;
        background-color:#eee;
        margin-right:5px;
        border:solid 1px #ddd;
        color:#444;text-align:center;font-weight:bold;
        line-height:170px;
        &:hover{background-color:mix(#eee,#fffbcc,10%);text-decoration:none;};
      }
    }
  }
}

$gi-margin:12px;
$gi-padding:3px;
$thumb-size:150px;
$thumb-border-width:1px;
$title-line-height:24px;
$gi-size: $thumb-size + $thumb-border-width*2 + $gi-padding + $title-line-height;

.page-mindmaps-grids{
  margin-left:$avatar-size + $avatar-padding*2 + $avatar-border-width*2 + $avatar-margin-left + $gi-margin;
  margin-top:$avatar-margin-top;
  
  .gi{
    margin:0 $gi-margin $gi-margin 0;
    background-color:#f7f7f7;
    border:solid 1px #ccc;
    width:$gi-size;
    height:$gi-size;
    padding:$gi-padding;
    //box-shadow:0 0 5px rgba(#666,0.3);
  }
  
  .mindmap{
    $ani-time : .1s;
    
    position:relative;
    .title{
      font-size:12px;line-height:$title-line-height;
      margin-top:$gi-padding;color:#555;
      text-align:center;
    }
    
    .thumb{
      width:$gi-size - $thumb-border-width*2;
      height:$thumb-size;
      //background-color:#f1f1f1;
      background-color:#fff;
      border:solid $thumb-border-width #eee;overflow:hidden;
    }

    a.open{
      opacity:0;
      position:absolute;height:48px;width:0;overflow:hidden;
      left:0;top:50%;margin-top:-24px;background-color:rgba(#000,0.618);
      @include transition(opacity ease-out $ani-time);
      color:white;font-size:14px;font-weight:bold;
      text-align:center;line-height:48px;
      text-decoration:none;
    }
    &.hover{a.open{
      display:block;opacity:1;
      width:100%;
    }}
    
    $ops-height:34px;
    .ops{
      position:absolute;
      height:0;line-height:$ops-height;overflow:hidden;
      background-color:rgba(#000,0.7);
      top:0;left:0;width:100%;opacity:0;
      @include transition(all easeout $ani-time);
      
      a{text-decoration:none;}
      
      a.delete{
        float:left;margin-top:6px;margin-left:6px;position:relative;
        height:22px;width:22px;line-height:24em;font-size:0;overflow:hidden;
        background-color:#111;
        @include border-radius(2px);
        box-shadow:0 0 3px rgba(#fff,0.4);
        
        $color:#ccc;
        &::before{
          content:"";
          display:block;
          height:16px;width:2px;background-color:$color;
          position:absolute;left:10px;top:3px;
          @include transform(rotate(45deg));
        };
        &::after{
          content:"";
          display:block;
          height:16px;width:2px;background-color:$color;
          position:absolute;right:10px;top:3px;
          @include transform(rotate(-45deg));
        };
        
        &:hover{
          &::before, &::after{background-color:#fff;}
        }
      }
    }
    
    &.hover{.ops{
      opacity:1;
      height:$ops-height;
    }}
  }
}